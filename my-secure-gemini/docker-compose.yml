services:
  # ğŸ›¡ï¸ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰è¦å¡ (Rust)
  # backend:
  #   build: ./backend
  #   ports:
  #     - "3000:3000"
  #   env_file:
  #     - ./backend/.env

   # ğŸ›¡ï¸ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰è¦å¡ (Rust)
  backend:
    build: ./backend
    # portsï¼ˆå¤–éƒ¨å…¬é–‹ï¼‰ã‚’å‰Šé™¤ã—ã€exposeï¼ˆå†…éƒ¨å…¬é–‹ï¼‰ã«å¤‰æ›´
    expose:
      - "8080"
    env_file:
      - ./backend/.env

  # ğŸ¨ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å¤–è£… (React + TS)
  # frontend:
  #   build: ./frontend
  #   ports:
  #     - "5173:5173"
  #   depends_on:
  #     - backend



  frontend:
    build: ./frontend
    ports:
      - "5173:5173"
    depends_on:
      - gateway # ğŸ‘ˆ GoãŒå‹•ã„ã¦ã‹ã‚‰èµ·å‹•ã™ã‚‹ã‚ˆã†ã«å¤‰æ›´

  # ğŸš€ Goã‚»ã‚­ãƒ¥ã‚¢ãƒ»ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ (Go) ã€æ–°è¨­ï¼ã€‘
  gateway:
    build: ./gateway
    ports:
      - "3000:3000" # ğŸ‘ˆ å¤–éƒ¨ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆç„é–¢å£ï¼‰ã‚’GoãŒæ‹…å½“
    environment:
      - BACKEND_URL=ws://backend:8080/ws
    depends_on:
      - backend

 